# WB API Issue Summary: warehouseID vs officeId Matching Problem

**–î–∞—Ç–∞:** 2026-01-26
**–°—Ç–∞—Ç—É—Å:** üî¥ –ü—Ä–æ–±–ª–µ–º–∞ –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–∞, —Ä–µ—à–µ–Ω–∏–µ –Ω–∞–π–¥–µ–Ω–æ

---

## –ê. –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã

### –°—É—Ç—å –ø—Ä–æ–±–ª–µ–º—ã

–ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ —Å–æ–ø–æ—Å—Ç–∞–≤–∏—Ç—å —Å–∫–ª–∞–¥—ã –∏–∑ –¥–µ—Ç–∞–ª–µ–π –ø–æ—Å—Ç–∞–≤–∫–∏ (`warehouseID`) —Å–æ —Å–ø–∏—Å–∫–æ–º —Å–∫–ª–∞–¥–æ–≤ (`id`) –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç—Å—è **–ø–æ–ª–Ω–æ–µ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π**.

### –ö–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞

–ü—Ä–æ–±–ª–µ–º–∞ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –∏–∑-–∑–∞ —Ç–æ–≥–æ, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è **–¥–≤–∞ —Ä–∞–∑–Ω—ã—Ö API –∏–∑ —Ä–∞–∑–Ω—ã—Ö –¥–æ–º–µ–Ω–æ–≤**:

| Endpoint | Domain | –°—É—â–Ω–æ—Å—Ç—å | –ü–æ–ª–µ ID | –ü—Ä–∏–º–µ—Ä |
|----------|--------|----------|---------|--------|
| `GET /api/v1/supplies/{ID}` | `supplies-api.wildberries.ru` | –î–µ—Ç–∞–ª–∏ –ø–æ—Å—Ç–∞–≤–∫–∏ (FBW) | `warehouseID` | `507` |
| `GET /api/v3/offices` | `marketplace-api.wildberries.ru` | –û—Ñ–∏—Å—ã –ø—Ä–∏–≤—è–∑–∫–∏ (Seller Warehouses) | `id` | `15` |
| `GET /api/v1/warehouses` | `supplies-api.wildberries.ru` | –°–∫–ª–∞–¥—ã WB | `ID` | `507` ‚úÖ |

### –î–∏–∞–≥—Ä–∞–º–º–∞ domains

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    Wildberries API Ecosystem                        ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ  SUPPLIES-API (–ü–æ—Å—Ç–∞–≤–∫–∏ FBW)                                 ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ GET /api/v1/supplies/{ID}                           ‚îÇ    ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ ‚Üí warehouseID: 507                                  ‚îÇ    ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ ‚Üí warehouseName: "–ö–æ–ª–µ–¥–∏–Ω–æ"                         ‚îÇ    ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ GET /api/v1/warehouses ‚úÖ                           ‚îÇ    ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ ‚Üí ID: 507 (–°–û–í–ü–ê–î–ê–ï–¢!)                              ‚îÇ    ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ ‚Üí name: "–ö–æ–ª–µ–¥–∏–Ω–æ"                                  ‚îÇ    ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îÇ                                                                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ  MARKETPLACE-API (Seller Warehouses)                         ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ GET /api/v3/offices ‚ùå                              ‚îÇ    ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ ‚Üí id: 15 (–ù–ï —Å–æ–≤–ø–∞–¥–∞–µ—Ç!)                            ‚îÇ    ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ ‚Üí name: "–ö–æ–ª–µ–¥–∏–Ω–æ"                                   ‚îÇ    ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ GET /api/v3/warehouses                               ‚îÇ    ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ ‚Üí id: 1 (Seller's warehouse)                         ‚îÇ    ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ ‚Üí officeId: 15 (—Å—Å—ã–ª–∫–∞ –Ω–∞ office)                    ‚îÇ    ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îÇ                                                                      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Data Flow

```
Supply Details (warehouseID: 507)
        ‚îÇ
        ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Wrong Endpoint  ‚îÇ ‚îÄ‚îÄ‚ùå‚îÄ‚îÄ‚ñ∫ GET /api/v3/offices (id: 15)
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
        ‚îÇ
        ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Correct Endpoint ‚îÇ ‚îÄ‚îÄ‚úÖ‚îÄ‚îÄ‚ñ∫ GET /api/v1/warehouses (ID: 507)
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## –ë. –ü–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π

### –®–∞–≥ 1: –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∫–æ–¥ (–Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ)

**–î–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:**

–ó–∞–º–µ–Ω–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `GET /api/v3/offices` –Ω–∞ `GET /api/v1/warehouses`:

```go
// ‚ùå –ü–õ–û–•–û - –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –ø–æ—Å—Ç–∞–≤–æ–∫
func getOffices(ctx context.Context) ([]Office, error) {
    // GET /api/v3/offices
    // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç officeId, –Ω–µ warehouseID
}

// ‚úÖ –•–û–†–û–®–û - —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –ø–æ—Å—Ç–∞–≤–æ–∫
func getWarehouses(ctx context.Context) ([]Warehouse, error) {
    // GET /api/v1/warehouses
    // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç warehouseID, —Å–æ–≤–ø–∞–¥–∞—é—â–∏–π —Å –ø–æ—Å—Ç–∞–≤–∫–∞–º–∏
}
```

### –®–∞–≥ 2: –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π tool –≤ poncho-ai

–°–æ–∑–¥–∞—Ç—å tool –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–æ —Å–∫–ª–∞–¥–∞–º–∏ WB:

**–§–∞–π–ª:** `pkg/tools/std/wb_supplies.go` (–Ω–æ–≤—ã–π)

```go
// Tool: get_wb_warehouses
// Endpoint: GET https://supplies-api.wildberries.ru/api/v1/warehouses
// –û–ø–∏—Å–∞–Ω–∏–µ: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Å–∫–ª–∞–¥–æ–≤ WB –¥–ª—è –ø—Ä–∏—ë–º–∫–∏ –ø–æ—Å—Ç–∞–≤–æ–∫

type Warehouse struct {
    ID          int     `json:"ID"`           // –°–æ–≤–ø–∞–¥–∞–µ—Ç —Å warehouseID –∏–∑ –ø–æ—Å—Ç–∞–≤–æ–∫!
    Name        string  `json:"name"`
    Address     string  `json:"address"`
    WorkTime    string  `json:"workTime"`
    IsActive    bool    `json:"isActive"`
}

func (t *WBWarehousesTool) Execute(ctx context.Context, argsJSON string) (string, error) {
    var resp []Warehouse
    err := t.client.Get(ctx, "get_wb_warehouses",
        "https://supplies-api.wildberries.ru",
        6,   // rate limit: 6 req/min
        6,   // burst
        "/api/v1/warehouses", nil, &resp)
    // ...
}
```

### –®–∞–≥ 3: –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

**–§–∞–π–ª:** `config.yaml`

```yaml
tool_bundles:
  # === WB Supplies Tools ===
  wb-supplies-tools:
    description: "Wildberries Supplies API: —Å–∫–ª–∞–¥—ã, –ø—Ä–∏—ë–º–∫–∞, –ø–æ—Å—Ç–∞–≤–∫–∏ FBW"
    tools:
      - get_wb_warehouses
      - get_wb_supply_details
      - get_wb_supply_goods

tools:
  get_wb_warehouses:
    enabled: true
    description: "–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Å–∫–ª–∞–¥–æ–≤ Wildberries –¥–ª—è –ø—Ä–∏—ë–º–∫–∏ –ø–æ—Å—Ç–∞–≤–æ–∫. –ò—Å–ø–æ–ª—å–∑—É–π —ç—Ç–æ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–∫–ª–∞–¥–∞—Ö (ID, –Ω–∞–∑–≤–∞–Ω–∏–µ, –∞–¥—Ä–µ—Å, –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã). –í–ù–ò–ú–ê–ù–ò–ï: warehouseID –∏–∑ —ç—Ç–æ–≥–æ –º–µ—Ç–æ–¥–∞ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å warehouseID –∏–∑ –¥–µ—Ç–∞–ª–µ–π –ø–æ—Å—Ç–∞–≤–∫–∏."
    endpoint: "https://supplies-api.wildberries.ru"
    rate_limit: 6
    burst: 6
```

### –®–∞–≥ 4: –ù–∞–ø–∏—Å–∞—Ç—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É WB (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏–ª–∏ —Å–≤—è–∑—å –º–µ–∂–¥—É `officeId` –∏ `warehouseID`:

> **–¢–µ–º–∞:** –ù–µ—Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ ID —Å–∫–ª–∞–¥–æ–≤ –≤ API: `/api/v3/offices` vs –¥–µ—Ç–∞–ª–∏ –ø–æ—Å—Ç–∞–≤–æ–∫
>
> **–¢–µ–∫—Å—Ç:**
> –ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ!
>
> –ú—ã —Ä–∞–±–æ—Ç–∞–µ–º —Å Wildberries API –∏ —Å—Ç–æ–ª–∫–Ω—É–ª–∏—Å—å —Å –≤–æ–ø—Ä–æ—Å–æ–º –æ —Å–≤—è–∑–∏ –º–µ–∂–¥—É —Ä–∞–∑–Ω—ã–º–∏ —Å—É—â–Ω–æ—Å—Ç—è–º–∏ —Å–∫–ª–∞–¥–æ–≤:
>
> 1. `warehouseID` –∏–∑ –¥–µ—Ç–∞–ª–µ–π –ø–æ—Å—Ç–∞–≤–∫–∏ (`GET /api/v1/supplies/{ID}`) ‚Äî –Ω–∞–ø—Ä–∏–º–µ—Ä, `507`
> 2. `id` –∏–∑ offices (`GET /api/v3/offices`) ‚Äî –Ω–∞–ø—Ä–∏–º–µ—Ä, `15`
>
> –≠—Ç–∏ ID –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç. –ú—ã –Ω–∞—à–ª–∏ —Ä–µ—à–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `GET /api/v1/warehouses`, –Ω–æ —Ö–æ—Ç–∏–º —É—Ç–æ—á–Ω–∏—Ç—å:
>
> 1. –°—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ÂÆòÊñπ–Ω—ã–π —Å–ø–æ—Å–æ–± —Å–≤—è–∑–∞—Ç—å `officeId` —Å `warehouseID`?
> 2. –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `warehouseId` –≤ –æ—Ç–≤–µ—Ç `/api/v3/offices`?
> 3. –ï—Å—Ç—å –ª–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è, –æ–ø–∏—Å—ã–≤–∞—é—â–∞—è —Å–≤—è–∑—å –º–µ–∂–¥—É —ç—Ç–∏–º–∏ —Å—É—â–Ω–æ—Å—Ç—è–º–∏?
>
> –ó–∞—Ä–∞–Ω–µ–µ —Å–ø–∞—Å–∏–±–æ!

### –®–∞–≥ 5: –°–æ–∑–¥–∞—Ç—å mapping table (–µ—Å–ª–∏ –Ω—É–∂–Ω–∞ —Å–≤—è–∑—å)

–ï—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è —Å–≤—è–∑–∞—Ç—åSeller Warehouses —Å FBW supplies:

```go
// –ö–∞—Ä—Ç–∞ –¥–ª—è –º—ç—Ç—á–∏–Ω–≥–∞: officeId ‚Üí warehouseID
// –°–æ–∑–¥–∞—ë—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –∏ –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è
var OfficeToWarehouseMapping = map[int]int{
    15:    507,   // –ö–æ–ª–µ–¥–∏–Ω–æ
    23:    217081, // –°—Ü –ë—Ä—è–Ω—Å–∫ 2
    // ... –∑–∞–ø–æ–ª–Ω–∏—Ç—å —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–æ –∏–ª–∏ —á–µ—Ä–µ–∑ support
}
```

---

## –í. –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ (5 –º–∏–Ω—É—Ç)

```bash
# 1. –í—ã–∑–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π endpoint
curl -H "Authorization: $WB_API_KEY" \
  "https://supplies-api.wildberries.ru/api/v1/warehouses"

# –û—Ç–≤–µ—Ç:
# [
#   {
#     "ID": 507,           # ‚Üê –°–æ–≤–ø–∞–¥–∞–µ—Ç —Å warehouseID –∏–∑ –ø–æ—Å—Ç–∞–≤–æ–∫!
#     "name": "–ö–æ–ª–µ–¥–∏–Ω–æ",
#     "address": "..."
#   }
# ]
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

```go
// –¢–µ—Å—Ç: –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ warehouseID –∏–∑ –ø–æ—Å—Ç–∞–≤–∫–∏ –µ—Å—Ç—å –≤ —Å–ø–∏—Å–∫–µ —Å–∫–ª–∞–¥–æ–≤
func TestWarehouseMatching(t *testing.T) {
    supply := getSupplyDetails(12345)  // warehouseID = 507
    warehouses := getWarehouses()       // ID = 507

    found := false
    for _, wh := range warehouses {
        if wh.ID == supply.WarehouseID {
            found = true
            assert.Equal(t, "–ö–æ–ª–µ–¥–∏–Ω–æ", wh.Name)
            break
        }
    }
    assert.True(t, found, "warehouseID from supply should match warehouse ID")
}
```

---

## –ì. –°—Å—ã–ª–∫–∏

| –†–µ—Å—É—Ä—Å | URL |
|--------|-----|
| FBW Supplies API | https://dev.wildberries.ru/openapi/orders-fbw |
| Seller Warehouses API | https://dev.wildberries.ru/openapi/work-with-products |
| GET /api/v1/warehouses | https://supplies-api.wildberries.ru/api/v1/warehouses |
| GET /api/v3/offices | https://marketplace-api.wildberries.ru/api/v3/offices |

---

## –î. –°—Ç–∞—Ç—É—Å —Ä–µ—à–µ–Ω–∏—è

| –≠—Ç–∞–ø | –°—Ç–∞—Ç—É—Å | –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π |
|------|--------|---------------|
| –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã | ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ | - |
| –ù–∞–π–¥–µ–Ω–æ —Ä–µ—à–µ–Ω–∏–µ | ‚úÖ –î–∞ - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `/api/v1/warehouses` | - |
| –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤ –∫–æ–¥–µ | ‚è≥ –í –ø–ª–∞–Ω–∞—Ö | - |
| –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ | ‚è≥ –í –ø–ª–∞–Ω–∞—Ö | - |
| –ó–∞–ø—Ä–æ—Å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É | ‚è≥ –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ | - |

---

**Created:** 2026-01-26
**Last Updated:** 2026-01-26
