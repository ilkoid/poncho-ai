# Simple Chat - Утилита для чата с GLM-4.6

Простая утилита для интерактивного чата с моделью GLM-4.6 через TUI интерфейс.

## Особенности

- Использует фреймворк Poncho AI
- TUI интерфейс на Bubble Tea
- Сохранение истории диалога
- Поддержка контекста сообщений
- Цветовое оформление сообщений
- Автоматический перенос длинных строк по ширине окна
- Адаптивный интерфейс при изменении размера терминала

## Требования

- Go 1.25.1+
- Переменная окружения `ZAI_API_KEY` с API ключом от ZAI

## Запуск

```bash
# Из корня проекта
go run cmd/simple-chat/main.go

# Или собрать бинарник
go build -o simple-chat cmd/simple-chat/main.go
./simple-chat
```

## Управление

- `Enter` - отправить сообщение
- `Ctrl+U` - очистить поле ввода
- `Ctrl+C` или `Esc` - выход из программы

## Особенности интерфейса

- Поле ввода автоматически подстраивается под ширину терминала
- Длинные сообщения переносятся по словам
- Интерфейс адаптивно изменяется при ресайзе окна
- Минимальная рекомендуемая ширина терминала: 60 символов

## Конфигурация

Файл конфигурации: `cmd/simple-chat/config.yaml`

Основные параметры:
- Модель: glm-4.6 (текстовая, не vision)
- Провайдер: ZAI
- Температура: 0.7
- Максимальный токен: 2000
- Таймаут: 60 секунд

## Архитектура

Утилита следует принципам фреймворка Poncho AI:

1. **LLM Abstraction** - работа с моделью через интерфейс Provider
2. **Configuration** - все настройки в YAML с поддержкой ENV
3. **TUI First** - интерфейс в терминале для высокой производительности
4. **State Management** - хранение истории сообщений для контекста

## Структура кода

```
cmd/simple-chat/
├── main.go        - основная логика и TUI
├── config.yaml    - конфигурация модели
└── README.md      - этот файл
```

## История сообщений

Каждое сообщение пользователя и ответ модели сохраняются в истории и передаются при следующих запросах, обеспечивая контекст диалога. Системный промпт устанавливает роль ассистента и правила общения.