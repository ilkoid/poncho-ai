# Models Configuration
models:
  default_reasoning: "glm-4.6"
  default_chat: "glm-4.6"
  definitions:
    glm-4.6:
      provider: "zai"
      model_name: "glm-4.6"
      api_key: "${ZAI_API_KEY}"
      base_url: "https://api.z.ai/api/paas/v4"
      max_tokens: 4000
      temperature: 0.5
      timeout: "120s"
      thinking: "enabled"

# S3 Configuration
s3:
  endpoint: "storage.yandexcloud.net"
  region: "ru-central1"
  bucket: "plm-ai"
  access_key: "${S3_ACCESS_KEY}"
  secret_key: "${S3_SECRET_KEY}"
  use_ssl: true

# Image Settings
image_processing:
  max_width: 800
  quality: 90

# App Settings
app:
  debug: true
  prompts_dir: "./prompts"
  debug_logs:
    enabled: true
    save_logs: true
    logs_dir: "./logs"
    include_tool_args: true
    include_tool_results: true
    max_result_size: 10000

# Wildberries API
wb:
  api_key: "${WB_API_KEY}"
  base_url: "https://content-api.wildberries.ru"
  rate_limit: 100
  burst_limit: 5
  retry_attempts: 3
  timeout: "30s"

# Tools Configuration
tools:
  # S3 Tools
  list_s3_files:
    enabled: true
    description: "Возвращает список файлов в S3 хранилище по указанному пути (префиксу)."
  
  read_s3_object:
    enabled: true
    description: "Читает содержимое файла из S3. Поддерживает текстовые файлы (JSON, TXT, MD)."
  
  read_s3_image:
    enabled: true
    description: "Скачивает изображение из S3, оптимизирует его (resize) и возвращает в формате Base64."
  
  # WB Catalog Tools
  get_wb_parent_categories:
    enabled: true
    description: "Возвращает список родительских категорий Wildberries."
    endpoint: "https://content-api.wildberries.ru"
    rate_limit: 100
    burst: 5
  
  get_wb_subjects:
    enabled: true
    description: "Возвращает список предметов (подкатегорий) для заданной родительской категории."
    endpoint: "https://content-api.wildberries.ru"
    rate_limit: 100
    burst: 5
  
  get_wb_subjects_by_name:
    enabled: true
    description: "Ищет предметы (подкатегории) Wildberries по подстроке в названии."
    endpoint: "https://content-api.wildberries.ru"
    rate_limit: 100
    burst: 5
  
  ping_wb_api:
    enabled: true
    description: "Проверяет доступность Wildberries Content API."
    endpoint: "https://content-api.wildberries.ru"
    rate_limit: 100
    burst: 5
  
  # WB Characteristics Tools
  get_wb_characteristics:
    enabled: true
    description: "Возвращает список характеристик для указанного предмета."
    endpoint: "https://content-api.wildberries.ru"
    rate_limit: 100
    burst: 5
  
  get_wb_tnved:
    enabled: true
    description: "Возвращает список кодов ТНВЭД для указанного предмета."
    endpoint: "https://content-api.wildberries.ru"
    rate_limit: 100
    burst: 5
  
  get_wb_brands:
    enabled: true
    description: "Возвращает список брендов для указанного предмета."
    endpoint: "https://content-api.wildberries.ru"
    rate_limit: 100
    burst: 5
    default_take: 500
  
  # WB Dictionaries Tools
  wb_colors:
    enabled: true
    description: "Ищет цвета в справочнике Wildberries по подстроке."
  
  wb_countries:
    enabled: true
    description: "Возвращает справочник стран производства для Wildberries."
  
  wb_genders:
    enabled: true
    description: "Возвращает справочник значений пола (gender/kind) для Wildberries."
  
  wb_seasons:
    enabled: true
    description: "Возвращает справочник сезонов для Wildberries."
  
  wb_vat_rates:
    enabled: true
    description: "Возвращает справочник ставок НДС (VAT) для Wildberries."

  # Planner Tools
  plan_add_task:
    enabled: true
    description: "Добавляет новую задачу в план действий. Указывай четкое описание того, что нужно выполнить."

  plan_mark_done:
    enabled: true
    description: "Отмечает задачу как выполненную. Используй когда задача успешно завершена."

  plan_mark_failed:
    enabled: true
    description: "Отмечает задачу как проваленную с указанием причины. Используй когда задачу невозможно выполнить по независимым причинам."

  plan_clear:
    enabled: true
    description: "Очищает весь план действий. Используй для удаления всех задач из списка."

  plan_set_tasks:
    enabled: true
    description: "Создает или заменяет весь план задач за один вызов. Используй это когда нужно составить полный план действий с нуля или полностью пересмотреть существующий план. LLM видит текущий план через контекст и учитывает его при перезаписи."
